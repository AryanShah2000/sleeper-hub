<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>My Fantasy Agent</title>
<!-- Inline favicon to avoid a /favicon.ico 404 in local dev -->
<link rel="icon" href="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><rect width='64' height='64' rx='12' fill='%235ee0ff'/><text x='50%' y='54%' font-size='30' text-anchor='middle' fill='%2300121a' font-family='Arial,Helvetica,sans-serif'>⚽</text></svg>">
<style>
  :root{ --bg:#0b1020; --panel:#121a35; --muted:#6b7aa6; --text:#e8ecff; --accent:#5ee0ff; --accent2:#84ffb5; --warn:#ffd166; --border: rgba(255,255,255,0.12); }
  *{box-sizing:border-box}
  body{margin:0;background:linear-gradient(180deg,#0b1020,#0a0f1f 60%);color:var(--text);font:15px/1.5 system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
  header{padding:16px;border-bottom:1px solid var(--border);background:rgba(11,16,32,.9);backdrop-filter:saturate(180%) blur(6px)}
  h1{margin:0;font-size:20px;letter-spacing:.2px;display:flex;align-items:center;gap:10px}
  .logo-bot svg{width:24px;height:24px;vertical-align:middle;filter:drop-shadow(0 2px 6px rgba(0,0,0,.35))}

  .layout{max-width:1280px;margin:16px auto;padding:0 16px;display:grid;grid-template-columns:420px 1fr;gap:16px}
  aside{background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:12px;min-height:72vh;display:flex;flex-direction:column}
  .main{background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:14px;display:flex;flex-direction:column}

  .status{margin-bottom:10px;padding:8px 10px;border:1px solid var(--border);border-radius:10px;background:#0e1734;color:#bcd;font-size:13px}
  .status.ok{color:#9ff3c8;border-color:#2a5}
  .status.err{color:#ffd1d1;border-color:#a33;background:#2a0e14}

  .inputs{display:grid;grid-template-columns:1fr 200px;gap:8px}
  .inputs > div{min-width:0}
  label{display:block;margin:4px 0 4px;color:var(--muted);font-weight:600}
  input,select,button{background:#0e1630;color:var(--text);border:1px solid var(--border);border-radius:10px;padding:9px 10px}
  input,select{width:100%}
  #username{font-size:16px}
  button{cursor:pointer;transition:.2s;white-space:nowrap}
  button:hover{transform:translateY(-1px);box-shadow:0 6px 18px rgba(0,0,0,.25)}

  .row-2{display:grid;grid-template-columns:1fr 110px;gap:8px;margin-top:6px}
  .nav-head{font-size:12px;color:#8fa1ff99;margin:12px 0 6px}
  .league-list{display:flex;flex-direction:column;gap:6px;overflow:auto; padding-right:2px}
  /* make league rows a fixed 3-column grid so the mini-score column is constant width and perfectly aligned */
  .league-item, .summary-item{display:grid;grid-template-columns:1fr 180px 22px;gap:10px;align-items:center;padding:8px;border:1px solid var(--border);border-radius:10px;background:#0e1734;cursor:pointer; position:relative}
  .league-item.active, .summary-item.active{outline:2px solid var(--accent)}
  .li-info{display:flex;flex-direction:column;min-width:0;overflow:hidden}
  .li-title{font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}
  .li-sub{font-size:12px;color:#8fa1ff99;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:260px}

  .sidebar-connect{ text-align:center; margin:16px auto 6px; font-size:13px }
  .sidebar-connect a{ color:#8fa1ff99; text-decoration:none }
  .sidebar-connect a:hover{ text-decoration:underline }

  /* numeric alert badge removed in favor of 3-dot signal */

  .controls{display:flex;gap:12px;align-items:flex-end;flex-wrap:wrap;justify-content:flex-start}
  .controls .group{min-width:160px}
  .controls .group.right{margin-left:auto;min-width:260px}

  .tabs{display:flex;gap:8px;margin-top:8px;flex-wrap:wrap}
  .tab-btn{padding:9px 12px;border-radius:10px;border:1px solid var(--border);background:#0e1630; position:relative}
  .tab-btn.active{outline:2px solid var(--accent);color:#000;background:linear-gradient(90deg,var(--accent),var(--accent2))}
  .tab-btn .dot{ position:absolute; top:6px; right:6px; width:8px; height:8px; background:#e23b3b; border-radius:999px; box-shadow:0 0 0 2px #0e1630; display:none }
  .tab-btn.has-alert .dot{ display:block }

  .sections > section{display:none;margin-top:12px}
  .sections > section.active{display:block}

  .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}

  table{width:100%;border-collapse:separate;border-spacing:0;margin-top:10px;background:#0b122a;border:1px solid var(--border);border-radius:12px;overflow:hidden}
  th,td{padding:10px;border-bottom:1px solid var(--border)}
  th{background:#10183a;text-align:left;color:#b8c6ff}
  tr:last-child td{border-bottom:none}
  th.sortable{cursor:pointer; user-select:none; position:relative}
  th.sortable .arrow{font-size:11px; margin-left:6px; opacity:.65}
  th.sorted-asc .arrow, th.sorted-desc .arrow{opacity:1; color:#5ee0ff}

  .note{color:#8fa1ff88;font-size:13px;margin-top:8px}
  .subhead{margin:8px 0 6px;font-size:13px;color:#8fa1ffcc;text-transform:uppercase;letter-spacing:.08em}
  .win-arrow{ font-weight:800; margin-left:6px; color:var(--accent2) }

  footer{color:#8fa1ff55;font-size:12px;margin:16px 0 8px}

  .landing{position:fixed; inset:0; display:flex; align-items:center; justify-content:center; padding:24px;
           background:linear-gradient(180deg,#0b1020,#0a0f1f 60%); z-index:9999;}
  .landing-card{display:flex; flex-direction:column; align-items:center; gap:18px; max-width:720px; text-align:center}
  .landing .bot svg{width:160px;height:160px;filter:drop-shadow(0 8px 24px rgba(0,0,0,.35))}
  .football{position:absolute; top:110px; animation:spin 3.5s linear infinite; opacity:.9}
  @keyframes spin { from{ transform:rotate(0deg) } to{ transform:rotate(360deg) } }
  .bubble{background:#0e1734; border:1px solid var(--border); border-radius:14px; padding:16px 18px; color:#c9d3ffcc}
  .bubble .hi{font-weight:800; color:var(--text); margin-bottom:6px}
  .landing .entry{display:flex; gap:8px; width:min(560px,90vw)}
  .landing input{flex:1}
  .muted-mini{font-size:12px; color:#8fa1ff99}

  .hidden{display:none}
  /* Matchup overview cards */
  .matchup-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px;margin-top:8px}
  .matchup-card{background:#07102a;border:1px solid var(--border);border-radius:10px;padding:10px}
  .matchup-card{ cursor: pointer }
  .matchup-card .mc-head{font-weight:700;margin-bottom:8px}
  .matchup-card .mc-head{ text-align:center }
  .matchup-card .mc-line{font-size:13px;margin:4px 0}
  .matchup-card .mc-body{display:flex;flex-direction:column;gap:6px}
  .matchup-card .mc-row{display:flex;align-items:center;justify-content:space-between}
  .matchup-card .mc-row .mc-team{flex:1;font-size:13px}
  .matchup-card .mc-score{background:linear-gradient(180deg,#0b2136,#07162a);border:1px solid var(--border);padding:6px 8px;border-radius:8px;min-width:56px;text-align:center;font-weight:800}
  .matchup-card .mc-row.opp .mc-team{opacity:0.9}

  /* win/lose dashed outlines for my score */
  .matchup-card .mc-score.win{ box-shadow: 0 0 0 3px rgba(0,0,0,0.25) inset; border: 2px dashed rgba(116, 236, 147, 0.9); }
  .matchup-card .mc-score.lose{ box-shadow: 0 0 0 3px rgba(0,0,0,0.25) inset; border: 2px dashed rgba(255, 110, 110, 0.9); }

  /* temp tooltip bubble */
  .__temp-tooltip{color:#dfe9ff}
  /* Matchup scorecard */
  .scorecard-header{display:flex;align-items:center;gap:12px;margin:6px 0 12px}
  .score-team{width:120px;text-align:center;font-weight:700}
  .score-main{display:flex;align-items:center;gap:12px;background:linear-gradient(180deg,#081226,#071024);padding:10px;border-radius:10px;border:1px solid var(--border)}
  .score-left,.score-right{font-size:20px;font-weight:900;padding:0 8px}
  .score-vs{color:var(--muted);font-weight:700}
  .scorecard-wrap{display:flex;justify-content:center}
  .starters-list{display:flex;flex-direction:column;gap:6px}
  .starter-row{display:grid;grid-template-columns:1fr 64px;gap:8px;padding:6px 8px;border-radius:6px;background:transparent;border:1px solid transparent;align-items:center}
  .starter-row .sr-name{font-weight:700}
  .sr-name{font-weight:700}
  .sr-meta{font-size:12px;color:var(--muted);margin-left:6px}
  .sr-proj{font-weight:800;text-align:right}
  /* bench rows greyed out */
  .starters-title{margin-top:8px;margin-bottom:6px;font-weight:700}
  .bench .starter-row{opacity:0.45}
  .score-main{display:flex;flex-direction:column;align-items:center;gap:6px;background:linear-gradient(180deg,#081226,#071024);padding:12px 18px;border-radius:10px;border:1px solid var(--border)}
  .score-box{display:flex;align-items:center;gap:14px}
  .score-left.big,.score-right.big{font-size:28px;font-weight:900}
  .score-current{font-size:12px;color:var(--muted)}
  .score-proj em{font-size:12px;color:var(--muted);font-style:italic}
  .matchup-row{display:grid;grid-template-columns:1fr 240px 1fr;gap:12px}
  #matchupCenter{display:flex;align-items:center;justify-content:center}
  .player-label{display:flex;flex-direction:column}
  .player-label .name{font-weight:700}
  /* new player name/meta styles used in matchup table */
  .player-name{font-weight:800;font-size:15px}
  .player-meta{font-size:12px;color:var(--muted);margin-top:4px}
  .player-label .meta{font-size:12px;color:var(--muted)}
  /* bench items inline */
  .bench .bench-item{display:inline-flex;align-items:center;gap:8px;margin-right:8px;padding:6px 8px;border-radius:8px;background:transparent}
  .bench .bench-item .player-name{font-weight:700}
  .bench .bench-item .player-meta{font-size:12px;color:var(--muted)}
  .bench-score-item{display:inline-flex;align-items:center;justify-content:center;margin-right:8px}
  .matchup-table tr.bench td{vertical-align:middle}
  /* center player names in matchup table side columns */
  .matchup-table td:first-child, .matchup-table td:last-child { text-align: center; }
  .matchup-table td .player-name { display:block; text-align:center; }
  .bench .bench-item .bench-left{display:flex;flex-direction:column;align-items:center}
  .bench .bench-item .player-meta{margin-top:4px;text-align:center}
  /* league dot indicator in sidebar — three-dot horizontal "traffic" indicator (red/yellow/green) */
  .league-dot{display:inline-flex;flex-direction:column;gap:4px;align-items:center;margin-left:6px}
  .league-dot .ldot{width:8px;height:8px;border-radius:999px;border:1px solid rgba(255,255,255,0.06);background:transparent;opacity:0.18;box-shadow:none}
  .league-dot .ldot.red-active{background:#ff6b6b;opacity:1;box-shadow:0 0 0 1px rgba(0,0,0,0.18)}
  .league-dot .ldot.yellow-active{background:#ffd166;opacity:1;box-shadow:0 0 0 1px rgba(0,0,0,0.10)}
  .league-dot .ldot.green-active{background:#84ffb5;opacity:1;box-shadow:0 0 0 1px rgba(0,0,0,0.10)}
  .bench-dot{display:inline-block;width:8px;height:8px;border-radius:999px;margin-left:6px;vertical-align:middle}
  .bench-dot.dot-yellow{background:#ffd166}
  .starter-dot{display:inline-block;width:10px;height:10px;border-radius:999px;margin-left:6px;vertical-align:middle}
  .starter-dot.dot-yellow{background:#ffd166}
  .starter-dot.dot-red{background:#ff6b6b}
  .center-box{background:linear-gradient(180deg,#061124,#08162a);padding:12px;border-radius:10px;border:1px solid var(--border);text-align:center;min-width:180px}
  /* compact mini-score (opponent | vs | mine) */
  /* fixed 3-column layout for aligned mini-scores: [mine] [vs] [opponent] */
  /* two-row mini-score: top row = boxed scores, bottom row = projections */
  .mini-score{display:flex;flex-direction:column;gap:4px;font-size:12px;width:180px;justify-content:center}
  .mini-score .mini-row{display:grid;grid-template-columns:64px 28px 64px;align-items:center;gap:8px;height:44px}
  .mini-score .mini-proj-row{display:grid;grid-template-columns:64px 28px 64px;align-items:center;gap:8px}
  .mini-score .mini-side{display:flex;flex-direction:column;align-items:center;width:64px;min-width:64px}
  /* center the boxes in their grid cell; horizontal alignment handled inside the box */
  .mini-score .mini-side.mini-left{align-items:center}
  .mini-score .mini-side.mini-right{align-items:center}
  .mini-score .mini-box{border-radius:4px;padding:4px 6px;min-width:52px;width:52px;height:36px;box-sizing:border-box;text-align:center;display:flex;align-items:center;justify-content:center;border:1px solid transparent;transition:box-shadow .12s,border-color .12s}
  /* mini-score boxes */
  .mini-score .mini-vs{width:28px;text-align:center;color:var(--muted);font-size:11px;align-self:center}
  /* ensure numbers align vertically by using tabular numerals */
  .mini-score .mini-cur{font-variant-numeric:tabular-nums;font-feature-settings:'tnum';min-width:44px;display:block;text-align:center;width:100%}
  .mini-score .mini-op{background:#111;color:#fff;border:1px solid #222;}
  .mini-score .mini-cur{font-weight:700;font-size:13px}
  .mini-score .mini-proj{font-style:italic;font-size:11px;opacity:.9;height:14px;line-height:14px;overflow:hidden;text-align:center}
  /* center projected values under their respective boxes */
  .mini-score .mini-proj-left{padding-right:0;text-align:center;width:100%}
  .mini-score .mini-proj-right{padding-left:0;text-align:center;width:100%}
  .mini-score .mini-proj-spacer{width:28px}
  .mini-score .mini-cur{line-height:1}
  .mini-score .mini-my.win{border:2px dashed #2b8f5a;box-shadow:0 0 0 4px rgba(43,143,90,0.04)}
  .mini-score .mini-my.lose{border:2px dashed #a23b3b;box-shadow:0 0 0 4px rgba(162,59,59,0.035)}
  .mini-score .mini-op{border-color:rgba(255,255,255,0.04)}
  .center-scores{display:flex;align-items:center;justify-content:center;gap:20px}
  .center-left.big,.center-right.big{font-size:28px;font-weight:900}
  .center-proj{font-size:12px;color:var(--muted);font-style:italic;margin-top:6px}
  /* Compact scoreboard shown above matchup table */
  .scorebox-small{display:flex;flex-direction:column;gap:6px;padding:8px 10px;border-radius:8px;background:linear-gradient(180deg,#061124,#071226);border:1px solid var(--border);margin-bottom:8px}
  .scorebox-small .sb-teams{display:flex;justify-content:space-between;font-weight:700;font-size:13px}
  .scorebox-small .sb-scores{display:flex;align-items:center;justify-content:center;gap:12px;font-weight:900;font-size:18px}
  .scorebox-small .sb-left-score, .scorebox-small .sb-right-score{min-width:48px;text-align:center}
  .scorebox-small .sb-vs{font-size:12px;color:var(--muted);font-weight:700}
  .scorebox-small .sb-proj{font-size:12px;color:var(--muted);text-align:center}
  /* center the top scoreboard team names in the header area */
  .scorebox-small .sb-teams{justify-content:center;gap:24px}
  .scorebox-small .sb-teams .sb-left, .scorebox-small .sb-teams .sb-right{min-width:140px;text-align:center}

  /* Make the team name blocks center-aligned both horizontally and vertically above their sides */
  .scorebox-small .sb-teams .sb-left, .scorebox-small .sb-teams .sb-right{display:flex;flex-direction:column;align-items:center;justify-content:center}

  /* New compact layout: side blocks with name above and score aligned vertically centered */
  .scorebox-small .sb-row{display:flex;align-items:center;justify-content:center;gap:24px}
  /* Show name and score side-by-side and vertically center them */
  .scorebox-small .sb-side{min-width:140px;display:flex;flex-direction:row;align-items:center;justify-content:center;gap:8px}
  .scorebox-small .sb-name{font-weight:700;font-size:13px;margin:0}
  .scorebox-small .sb-side-score{font-weight:900;font-size:18px;line-height:1}
  /* Center scores with a stacked projection row: ensure columns align */
  .scorebox-small .sb-center-scores{display:flex;flex-direction:column;align-items:center;justify-content:center}
  .scorebox-small .sb-center-scores .sb-row{display:flex;align-items:center;justify-content:center;gap:12px}
  .scorebox-small .sb-center-scores .sb-score-left, .scorebox-small .sb-center-scores .sb-score-right{min-width:120px;display:flex;align-items:center;justify-content:center}
  .scorebox-small .sb-center-proj{display:flex;align-items:center;justify-content:center;gap:12px;margin-top:4px}
  .scorebox-small .sb-center-proj .sb-proj{min-width:120px;text-align:center;color:var(--muted);font-size:12px}
  .scorebox-small .sb-vs{font-size:12px;color:var(--muted);font-weight:700}

  /* Matchup table layout */
  .matchup-table{width:100%;border-collapse:collapse;margin-top:6px}
  .matchup-table th, .matchup-table td{padding:8px 10px;border-bottom:1px solid var(--border);font-size:13px}
  .matchup-table th{background:#08162a;color:#b8c6ff;text-align:left}
  .matchup-table thead th:first-child, .matchup-table thead th:last-child { width: 40%; }
  .matchup-table thead th:first-child, .matchup-table thead th:last-child { background: transparent; border-bottom: none; }

  /* center header team name cells vertically and horizontally */
  .matchup-table thead th:first-child, .matchup-table thead th:last-child { display:flex; align-items:center; justify-content:center; flex-direction:column; }
  .matchup-table tr.bench td{opacity:0.5;color:var(--muted)}
  .bench-title{padding:8px 10px;background:transparent;font-weight:700;color:var(--muted)}
  .matchup-table td:first-child, .matchup-table td:last-child{width:40%}
  .matchup-table td:nth-child(2), .matchup-table td:nth-child(3){width:10%;font-weight:800}
  /* per-player score box (current above, projected below) */
  .player-score-box{display:flex;flex-direction:column;align-items:center;gap:4px;padding:6px 8px;border-radius:8px;background:linear-gradient(180deg,#061124,#07162a);border:1px solid var(--border);min-width:72px}
  .player-score-box .ps-current{font-weight:900;font-size:14px}
  .player-score-box .ps-proj{font-size:10px;color:var(--muted)}
  .player-score-box .ps-preproj{font-size:9px;color:#9fb0d9;opacity:0.9;margin-top:2px}
  /* current display states */
  .player-score-box .ps-current.unplayed{color:var(--muted);font-weight:700}
  .player-score-box .ps-current.played{color:var(--text);font-weight:900}
  /* projected display colored italics when actual has started */
  .player-score-box .ps-proj.italic{font-style:italic}
  .player-score-box .ps-proj.proj-green{color:#84ffb5}
  .player-score-box .ps-proj.proj-yellow{color:#ffd166}
  .player-score-box .ps-proj.proj-red{color:#ff6b6b}
  @media (max-width:720px){ .scorebox-small .sb-scores{font-size:16px} .scorebox-small .sb-teams{font-size:12px} .matchup-table th, .matchup-table td{font-size:12px;padding:6px} }

  /* legend under league list */
  .league-legend{margin-top:10px;padding-top:8px;border-top:1px dashed rgba(255,255,255,0.03);display:flex;flex-direction:column;gap:6px;font-size:12px;color:var(--muted)}
  .league-legend .legend-item{display:flex;align-items:center;gap:8px}
  .league-legend .legend-item .ldot{width:12px;height:12px;border-radius:999px;display:inline-block;border:1px solid rgba(255,255,255,0.06);background:transparent}
  .league-legend .legend-item .ldot.red-active{background:#ff6b6b}
  .league-legend .legend-item .ldot.yellow-active{background:#ffd166}
  .league-legend .legend-item .ldot.green-active{background:#84ffb5}
  .league-legend .legend-text{color:var(--muted);font-size:12px}

  /* compact controls in sidebar: season and week inline and smaller */
  .controls-left{display:flex;gap:8px;align-items:center;margin-bottom:10px}
  .controls-left .group{min-width:0;display:inline-flex;flex-direction:column}
  .controls-left .group label{font-size:12px;margin-bottom:6px}
  .controls-left .group select{width:110px}
  /* Player search dropdown */
  .player-search-box input{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#0e1630;color:var(--text);font-size:15px}
  .ps-suggest{position:absolute;left:0;right:0;top:70px;background:#07132a;border:1px solid var(--border);border-radius:10px;max-height:300px;overflow:auto;box-shadow:0 6px 24px -4px rgba(0,0,0,0.45);z-index:50;padding:4px;display:flex;flex-direction:column;gap:2px}
  .ps-suggest.hidden{display:none}
  .ps-option{padding:8px 10px;border-radius:8px;cursor:pointer;font-size:14px;display:flex;justify-content:space-between;gap:12px;align-items:center;background:#0c1a34;border:1px solid transparent}
  .ps-option .ps-name{font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:260px}
  .ps-option .ps-meta{font-size:12px;color:var(--muted);white-space:nowrap}
  .ps-option:hover, .ps-option.active{background:#13284d;border-color:#1e3d72}
  @media (max-width:640px){ .ps-option .ps-name{max-width:160px} }
</style>
</head>
<body>
<header>
  <h1>
    <span class="logo-bot" aria-hidden="true">
      <svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg" role="img">
        <defs><linearGradient id="gh" x1="0" x2="1"><stop offset="0" stop-color="#5ee0ff"/><stop offset="1" stop-color="#84ffb5"/></linearGradient></defs>
        <circle cx="60" cy="14" r="6" fill="url(#gh)"/><rect x="58" y="20" width="4" height="8" rx="2" fill="#5ee0ff"/>
        <rect x="28" y="30" width="64" height="40" rx="10" fill="#0f1a3a" stroke="#2a3a72"/>
        <circle cx="46" cy="48" r="6" fill="#5ee0ff"/><circle cx="74" cy="48" r="6" fill="#5ee0ff"/>
        <rect x="44" y="60" width="32" height="3" rx="1.5" fill="#24346b"/>
        <rect x="34" y="74" width="52" height="28" rx="8" fill="#0f1a3a" stroke="#2a3a72"/>
      </svg>
    </span>
    My Fantasy Agent
  </h1>
</header>

<!-- Landing (first screen) -->
<div id="landing" class="landing">
  <div class="landing-card">
    <div class="football">🏈</div>
    <div class="bot" aria-hidden="true">
      <svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg" role="img">
        <defs><linearGradient id="g" x1="0" x2="1"><stop offset="0" stop-color="#5ee0ff"/><stop offset="1" stop-color="#84ffb5"/></linearGradient></defs>
        <circle cx="60" cy="14" r="8" fill="url(#g)"/><rect x="58" y="24" width="4" height="10" rx="2" fill="#5ee0ff"/>
        <rect x="22" y="36" width="76" height="46" rx="12" fill="#0f1a3a" stroke="#2a3a72" stroke-width="2"/>
        <circle cx="44" cy="58" r="7" fill="#5ee0ff"/><circle cx="76" cy="58" r="7" fill="#5ee0ff"/>
        <rect x="42" y="72" width="36" height="4" rx="2" fill="#24346b"/>
        <rect x="32" y="86" width="56" height="26" rx="10" fill="#0f1a3a" stroke="#2a3a72" stroke-width="1.5"/>
      </svg>
    </div>
    <div class="bubble">
      <div class="hi">Hi, I’m your personal fantasy football agent 🤖</div>
      <div>Enter your <b>Sleeper Username</b> below to see everything about your leagues. Let’s get some Ws!</div>
    </div>
    <div class="entry">
      <input id="landingUsername" placeholder="Sleeper Username" />
      <button id="landingGo" disabled>Continue</button>
    </div>
    <div class="muted-mini">We’ll fetch your leagues once you continue.</div>
    <div class="muted-mini footer-mini"> <a href="https://www.linkedin.com/in/aryan-shah/" target="_blank" rel="noopener">Connect with the Creator</a> </div>
  </div>
</div>

<!-- Main app (hidden until landing completes) -->
<div id="appLayout" class="layout hidden">
  <aside>
    <div id="status" class="status">Enter your Sleeper username, choose a season (center), and click <b>View Leagues</b>.</div>

    <div class="inputs">
      <div>
        <label for="username">Sleeper Username</label>
        <input id="username" placeholder="" />
      </div>
      <div style="align-self:end; display:flex; gap:8px; justify-content:flex-end">
  <button id="viewLeaguesBtn" disabled>View Leagues</button>
  <button id="refreshBtn" title="Refresh data" style="margin-left:6px">⟳</button>
      </div>
    </div>

  <!-- removed manual League ID input and Add button -->

    <!-- season & week selectors moved here from the top controls (left sidebar) -->
    <div class="controls-left">
      <div class="group" id="seasonGroup">
        <label for="seasonMain">Season</label>
        <select id="seasonMain">
          <option value="2025" selected>2025</option>
          <option value="2024">2024</option>
        </select>
      </div>
      <div class="group" id="weekGroup">
        <label for="weekSelect">Week</label>
        <select id="weekSelect"></select>
      </div>
    </div>

    <div class="nav-head">Overview</div>
    <div id="summaryItem" class="summary-item hidden">
      <div class="li-info">
        <div class="li-title">User Summary</div>
        <div class="li-sub">Cross-league view</div>
      </div>
  <!-- 3-dot signal only -->
    </div>

  <div class="nav-head">Your Leagues</div>
    <div id="leagueList" class="league-list"></div>
    <div class="league-legend" aria-hidden="true">
      <div class="legend-item"><span class="ldot red-active" aria-hidden="true"></span><span class="legend-text">Red: starter missing or projected 0</span></div>
      <div class="legend-item"><span class="ldot yellow-active" aria-hidden="true"></span><span class="legend-text">Yellow: bench can outscore a starter</span></div>
      <div class="legend-item"><span class="ldot green-active" aria-hidden="true"></span><span class="legend-text">Green: no alerts</span></div>
    </div>

    <div class="sidebar-connect">
      <a href="https://www.linkedin.com/in/aryan-shah/" target="_blank" rel="noopener">Connect with the Creator</a>
    </div>
  </aside>

  <div class="main">
    <div class="controls">
      <div class="group hidden" id="seasonGroup">
        <label for="seasonMain">Season</label>
        <select id="seasonMain">
          <option value="2025" selected>2025</option>
          <option value="2024">2024</option>
        </select>
      </div>
      <div class="group hidden" id="weekGroup">
        <label for="weekSelect">Week</label>
        <select id="weekSelect"></select>
      </div>

      <div class="group right">
        <div class="note" id="contextNote"></div>
        <div class="note" id="posNote"></div>
      </div>
    </div>

    <!-- USER SUMMARY -->
    <div id="userSummary" class="hidden">
      <div class="tabs" id="usTabs">
        <button class="tab-btn active" data-tab="us-root">Rooting Interest</button>
        <button class="tab-btn" data-tab="us-byes">Bye Count</button>
        <button class="tab-btn" data-tab="us-matchups">Matchup Overview</button>
        <button class="tab-btn" data-tab="us-search">Player Search</button>
      </div>
      <div class="sections">
        <section id="us-root" class="active">
          <div class="rooting-interest-row" style="display:flex;flex-direction:column;gap:0;">
            <div id="usGameFilterWrap" style="display:flex;gap:8px;align-items:center;margin-bottom:12px;">
              <label style="color:var(--muted);font-weight:600">Filter by game</label>
              <select id="usGameSelect"><option value="">All games (select week)</option></select>
              <button id="usLoadGames" style="padding:8px 10px">Load games</button>
            </div>
            <div style="display:flex;gap:24px;align-items:flex-start;flex-wrap:wrap;">
              <div class="rooting-interest-col" style="flex:1;min-width:320px;display:flex;flex-direction:column;">
                <h3 class="subhead" style="margin-bottom:0;text-align:center;width:100%;">Who to Root For</h3>
                <div id="usRootForTable" style="margin-top:8px;"></div>
                <div id="usGamePlayers" style="margin-top:10px"></div>
              </div>
              <div class="rooting-interest-col" style="flex:1;min-width:320px;display:flex;flex-direction:column;">
                <h3 class="subhead" style="margin-bottom:0;text-align:center;width:100%;">Who to Root Against</h3>
                <div id="usRootAgainstTable" style="margin-top:8px;"></div>
              </div>
            </div>
          </div>
        </section>
  <!-- projections tab removed -->
  <section id="us-byes">
          <h3 class="subhead" style="margin-top:0;">Season Bye Matrix (All Leagues)</h3>
          <div id="usByeMatrix"></div>
        </section>
  <section id="us-matchups"><div id="usMatchups" class="matchup-grid"></div></section>
  <section id="us-search">
          <h3 class="subhead" style="margin-top:0;">Cross-League Player Search</h3>
          <div class="player-search-box" style="max-width:520px;position:relative">
            <label for="playerSearchInput" style="color:var(--muted);font-weight:600;font-size:12px;display:block;margin:0 0 4px">Player</label>
            <input id="playerSearchInput" placeholder="Start typing a player name (e.g. Justin Jefferson)" autocomplete="off" />
            <div id="playerSearchSuggest" class="ps-suggest hidden" role="listbox" aria-label="Player suggestions"></div>
          </div>
          <div style="margin-top:8px;display:flex;gap:8px;align-items:center">
            <button id="playerSearchBtn">Search</button>
            <div id="playerSearchMeta" class="note" style="margin:0"></div>
          </div>
          <div id="playerSearchResults" style="margin-top:12px"></div>
        </section>
      </div>
    </div>

    <!-- LEAGUE VIEWS -->
    <div id="leagueViews" class="hidden">
      <div class="tabs" id="leagueTabs">
  <button class="tab-btn active" data-tab="tab-roster">My Roster</button>
  <button class="tab-btn" data-tab="tab-pos">Team Projections</button>
  <button class="tab-btn" data-tab="tab-matchup">Matchup</button>
        <button class="tab-btn" data-tab="tab-byes">Bye Week Matrix</button>
        <button class="tab-btn" data-tab="tab-alerts">Alerts<span class="dot" aria-hidden="true"></span></button>
      </div>
      <div class="sections" id="leagueSections">
        <section id="tab-roster" class="active"><div id="rosterTable"></div></section>
        <section id="tab-pos"><div id="posTable"></div></section>
        <section id="tab-matchup">
          <div id="matchupSummary"></div>
          <div class="matchup-row" style="margin-top:8px">
            <div id="myStarters"></div>
            <div id="matchupCenter"></div>
            <div id="oppStarters"></div>
          </div>
        </section>
        <section id="tab-byes"><div id="byeMatrix"></div></section>
        <section id="tab-alerts"><div id="alertsView"></div></section>
      </div>
    </div>

    <footer>
      Uses public Sleeper API + Rotowire projections via Sleeper. Data cached for ~3h in localStorage.
    </footer>
  </div>
</div>

<script src="src/utils.js?v=2" defer></script>
<script src="src/api.js?v=2" defer></script>
<script src="src/projections.js?v=2" defer></script>
<script src="src/rosters.js?v=2" defer></script>
<script src="src/defaults.js?v=1" defer></script>
<script src="app.js?v=2" defer></script>
</body>
</html>